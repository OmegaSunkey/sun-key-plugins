(function(t,u,f,g,h,o,e,a,l){"use strict";const{ScrollView:D}=l.General,{FormSection:y,FormRow:n}=l.Forms;function B(){return e.React.createElement(D,null,e.React.createElement(y,null,e.React.createElement(n,{label:"Discord Server",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("Discord")}),trailing:n.Arrow,onPress:function(){return e.url.openDeeplink("https://discord.gg/TeRQEPb")}}),e.React.createElement(n,{label:"Reload DB",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("ic_message_retry")}),onPress:async function(){return await i()?o.showToast("Reloaded DB",a.getAssetIDByName("check")):o.showToast("Failed to reload DB",a.getAssetIDByName("small"))}})))}const R=f.findByProps("default","getUserBannerURL");let r,d;const i=async function(){try{return r=await(await h.safeFetch("https://usrbg.is-hardly.online/users",{cache:"no-store"})).json(),r}catch(s){u.logger.error("Failed to fetch userBG data",s)}},v=async function(){if(await i(),!r)return o.showToast("Failed to load DB");d=g.after("getUserBannerURL",R,function(s){let[c]=s;const b=r?.find(function(E){return E.uid===c?.id});if(c?.banner===void 0&&b)return"https://usrbg.is-hardly.online/usrbg/v2/"+c?.id})},w=function(){return d?.()},m=B;return t.fetchData=i,t.onLoad=v,t.onUnload=w,t.settings=m,t})({},vendetta,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.ui.toasts,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components);
